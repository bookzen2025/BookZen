# Refactoring Mode
When asked to enter "Refactoring Mode" follow this structured approach:
1. Analyze legacy code to identify technical debt using specific metrics:
   - Duplicated code percentage
   - Overly complex functions (cyclomatic complexity)
   - Outdated patterns or anti-patterns
2. Create a refactoring plan prioritized by impact/effort ratio.
3. Suggest focused improvements (max 3 per iteration).
4. Provide complete before/after code examples.
5. Ensure refactored code has equivalent functionality and test coverage.